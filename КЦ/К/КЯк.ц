взяти визначення К;

секція ц {
  місцева дія скомпілювати_як(К: комірка<Компілятор>, інформація_середовища: ІнформаціяСередовища, місцезнаходження: комірка<Місцезнаходження>, дані: комірка<АСДДаніЯк>, очікуваний_тип: комірка<ОбʼєктТипу>): Результат {
    ціль результат_компіляції_значення = скомпілювати_значення_як_значення(К, інформація_середовища, дані.значення, пусто);
    якщо результат_компіляції_значення.помилка != пусто {
      вернути Результат { помилка = результат_компіляції_значення.помилка };
    }
    змінна новий_тип: комірка<ОбʼєктТипу>;
    якщо дані.тип == пусто {
      новий_тип = очікуваний_тип;
    } інакше {
      ціль результат_компіляції_типу = скомпілювати_значення_як_тип(К, інформація_середовища, дані.тип, так);
      якщо результат_компіляції_типу.помилка != пусто {
        вернути Результат { помилка = результат_компіляції_типу.помилка };
      }
      новий_тип = результат_компіляції_типу.обʼєкт_типу;
    }
    ціль обʼєкт_значення = результат_компіляції_значення.обʼєкт_значення;
    якщо обʼєкт_значення.тип.вид == ВидТипуКомірка {
      якщо новий_тип.вид == ВидТипуКомірка {
        обʼєкт_значення.тип = новий_тип;
        вернути Результат { Обʼєкт { ВидОбʼєктаЗначення, дані = обʼєкт_значення }, помилка = пусто };
      }
      якщо новий_тип.вид == ВидТипуПамʼять {
        обʼєкт_значення.тип = новий_тип;
        вернути Результат { Обʼєкт { ВидОбʼєктаЗначення, дані = обʼєкт_значення }, помилка = пусто };
      }
    }
    якщо обʼєкт_значення.тип.вид == ВидТипуПамʼять {
      якщо новий_тип.вид == ВидТипуПамʼять {
        обʼєкт_значення.тип = новий_тип;
        вернути Результат { Обʼєкт { ВидОбʼєктаЗначення, дані = обʼєкт_значення }, помилка = пусто };
      }
      якщо новий_тип.вид == ВидТипуКомірка {
        обʼєкт_значення.тип = новий_тип;
        вернути Результат { Обʼєкт { ВидОбʼєктаЗначення, дані = обʼєкт_значення }, помилка = пусто };
      }
    }
    ціль помилка_компіляції = виділити_помилку_компіляції(місцезнаходження, ю8"Не реалізовано");
    вернути Результат { помилка = помилка_компіляції };
  }
}