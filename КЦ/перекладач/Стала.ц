взяти визначення КЦ;

секція КЦ {
  місцева дія скомпілювати_визначити_сталу(компілятор: адреса<Компілятор>, контекст: Контекст, дані_сталої: розбирач::ДаніСполукиСтала, місцезнаходження: розбирач::Місцезнаходження): Результат {
    змінна назва_т8 = розбирач::отримати_значення_слова(
      ю8 { контекст.розібраний_текст.текст_коду.значення.розмір, контекст.розібраний_текст.текст_коду.значення.дані },
      контекст.розібраний_текст.слова.дані[дані_сталої.ідентифікатор.позиція_слова]
    );

    змінна обʼєкт_з_середовища: Обʼєкт;
    якщо знайти_в_середовищі(контекст.середовище, назва_зовнішня(назва_т8), обʼєкт_з_середовища::адреса) {
      вернути Результат {
        помилка = створити_помилку(
          компілятор,
          "Субʼєкт вже визначено.",
          створити_місцезнаходження_помилки_з_позиції_слова(компілятор, контекст.розібраний_текст, дані_сталої.ідентифікатор.позиція_слова)
        )
      };
    }

    змінна обʼєкт: Обʼєкт;

    якщо контекст.кк_дії == пусто {
      змінна результат_значення = скомпілювати_значення(компілятор, контекст, пусто, дані_сталої.значення, пусто);
      якщо результат_значення.помилка != пусто {
        вернути Результат { помилка = результат_значення.помилка };
      }

      якщо результат_значення.обʼєкт.вид == ВидОбʼєктаЗначення {
        обʼєкт = результат_значення.обʼєкт;
      } інакше якщо результат_значення.обʼєкт.вид == ВидОбʼєктаСиреЗначення {
        обʼєкт = результат_значення.обʼєкт;
      } інакше {
        вернути Результат {
          помилка = створити_помилку(
            компілятор,
            "Неможливо створити сталу.",
            створити_місцезнаходження_помилки_з_позиції_слова(компілятор, контекст.розібраний_текст, дані_сталої.ідентифікатор.позиція_слова)
          )
        };
      }
    } інакше {
      змінна результат_значення = скомпілювати_значення(компілятор, контекст, пусто, дані_сталої.значення, пусто);
      якщо результат_значення.помилка != пусто {
        вернути Результат { помилка = результат_значення.помилка, ... };
      }

      якщо результат_значення.обʼєкт.вид == ВидОбʼєктаНезавантаженеЗначення {
        змінна обʼєкт_незавантаженого_значення = результат_значення.обʼєкт.дані як ОбʼєктНезавантаженогоЗначення;
        змінна пм_значення = ПМ::вказівка_прочитати(
          контекст.кк_дії.поточний_крок.пм_крок,
          обʼєкт_незавантаженого_значення.тип.пм_тип,
          обʼєкт_незавантаженого_значення.пм_значення
        );
        обʼєкт = Обʼєкт {
          ВидОбʼєктаЗначення,
          ОбʼєктЗначення { обʼєкт_незавантаженого_значення.тип, пм_значення }
        };
      } інакше якщо результат_значення.обʼєкт.вид == ВидОбʼєктаЗначення {
        обʼєкт = результат_значення.обʼєкт;
      } інакше якщо результат_значення.обʼєкт.вид == ВидОбʼєктаСиреЗначення {
        обʼєкт = результат_значення.обʼєкт;
      } інакше {
        вернути Результат {
          помилка = створити_помилку(
            компілятор,
            "Неможливо створити сталу.",
            створити_місцезнаходження_помилки_з_позиції_слова(компілятор, контекст.розібраний_текст, дані_сталої.ідентифікатор.позиція_слова)
          )
        };
      }
    }

    змінити_в_середовищі(
      контекст.середовище,
      назва_зовнішня(назва_т8),
      обʼєкт
    );

    вернути Результат { помилка = пусто };
  }
}